(()=>{var e={};e.id=708,e.ids=[708],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},746:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>h,routeModule:()=>x,serverHooks:()=>w,workAsyncStorage:()=>A,workUnitAsyncStorage:()=>v});var s={};r.r(s),r.d(s,{GET:()=>p,OPTIONS:()=>d,POST:()=>u});var a=r(7993),n=r(4566),o=r(2525),i=r(8520);let l=process.env.CANVA_LINK_API_URL||"https://app.staticflow.io/api/templates/canva-link",c=process.env.XANO_TOKEN||"";async function p(e){try{let{searchParams:t}=new URL(e.url),r=(t.get("id")||"").replace(/^"+|"+$/g,"").trim();if(!r)return i.NextResponse.json({error:"Ad ID is required"},{status:400});let s=new URL(l);s.searchParams.set("id",r),s.searchParams.set("library","ads");let a=await fetch(s.toString(),{method:"GET",headers:{Accept:"*/*","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36",Cookie:`xano-token=${c}`,Referer:"https://app.staticflow.io/",Origin:"https://app.staticflow.io"}});if(!a.ok){let e=null;try{e=await a.json()}catch{e={raw:await a.text()}}let t=400===a.status?400:502;return i.NextResponse.json({error:"External API error",status:a.status,details:e},{status:t})}let n=await a.json(),o=n?.data?.canvaLink||n?.data?.canva_link||n?.canvaLink||n?.canva_link;if(!o)return i.NextResponse.json({error:"Canva link not found"},{status:404});return i.NextResponse.json({canvaLink:o},{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}catch(e){return i.NextResponse.json({error:"Internal proxy error",details:e.message},{status:500})}}async function u(){return i.NextResponse.json({error:"Use GET for /api/canva-link"},{status:405})}async function d(){return new i.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}c||console.warn("XANO_TOKEN is not set in environment variables");let x=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/canva-link/route",pathname:"/api/canva-link",filename:"route",bundlePath:"app/api/canva-link/route"},resolvedPagePath:"C:\\Users\\danie\\Downloads\\staticads repo\\staticads\\app\\api\\canva-link\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:A,workUnitAsyncStorage:v,serverHooks:w}=x;function h(){return(0,o.patchFetch)({workAsyncStorage:A,workUnitAsyncStorage:v})}},5442:()=>{},3594:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[353,218],()=>r(746));module.exports=s})();