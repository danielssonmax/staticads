(()=>{var e={};e.id=871,e.ids=[871],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},7624:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>A,routeModule:()=>d,serverHooks:()=>g,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{OPTIONS:()=>u,POST:()=>l});var o=r(7993),a=r(4566),n=r(2525),i=r(8520);let p=process.env.STATICFLOW_API_URL||"https://app.staticflow.io/api/templates/search/ads",c=process.env.XANO_TOKEN||"";async function l(e){try{let t=await e.json(),{searchParams:r}=new URL(e.url),s=r.get("pageId")||"1",o=r.get("sort")||"desc",a=r.get("scope")||"all",n=e.headers.get("accept-language")||"en-US,en;q=0.9",l=new URL(p);l.searchParams.set("pageId",s),l.searchParams.set("sort",o),l.searchParams.set("scope",a);let u=await fetch(l.toString(),{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*","Accept-Language":n,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36",Cookie:`xano-token=${c}`,Referer:"https://app.staticflow.io/templates",Origin:"https://app.staticflow.io","Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty"},body:JSON.stringify(t)});if(!u.ok){let e=await u.text();return i.NextResponse.json({error:`External API error: ${u.status} - ${e}`},{status:u.status})}let d=await u.json();return i.NextResponse.json(d,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}catch(e){return console.error("Proxy error:",e),i.NextResponse.json({error:"Internal proxy error",details:e?.message},{status:500})}}async function u(e){return new i.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}c||console.warn("XANO_TOKEN is not set in environment variables");let d=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/ads-proxy/route",pathname:"/api/ads-proxy",filename:"route",bundlePath:"app/api/ads-proxy/route"},resolvedPagePath:"C:\\Users\\danie\\Downloads\\staticads repo\\staticads\\app\\api\\ads-proxy\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:h,serverHooks:g}=d;function A(){return(0,n.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:h})}},5442:()=>{},3594:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[353,218],()=>r(7624));module.exports=s})();